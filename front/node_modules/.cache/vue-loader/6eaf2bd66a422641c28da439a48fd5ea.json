{"remainingRequest":"F:\\毕设\\演示\\x-mall\\front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\毕设\\演示\\x-mall\\front\\src\\components\\common\\Identify.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\毕设\\演示\\x-mall\\front\\src\\components\\common\\Identify.vue","mtime":1621952491036},{"path":"F:\\毕设\\演示\\x-mall\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\毕设\\演示\\x-mall\\front\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"F:\\毕设\\演示\\x-mall\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\毕设\\演示\\x-mall\\front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdJZGVudGlmeScsDQogIHByb3BzOiB7DQogICAgaWRlbnRpZnlDb2RlOiB7DQogICAgICB0eXBlOiBTdHJpbmcsDQogICAgICBkZWZhdWx0OiAnMTIzNCcNCiAgICB9LA0KICAgIGZvbnRTaXplTWluOiB7DQogICAgICB0eXBlOiBOdW1iZXIsDQogICAgICBkZWZhdWx0OiAyOA0KICAgIH0sDQogICAgZm9udFNpemVNYXg6IHsNCiAgICAgIHR5cGU6IE51bWJlciwNCiAgICAgIGRlZmF1bHQ6IDQwDQogICAgfSwNCiAgICBiYWNrZ3JvdW5kQ29sb3JNaW46IHsNCiAgICAgIHR5cGU6IE51bWJlciwNCiAgICAgIGRlZmF1bHQ6IDE4MA0KICAgIH0sDQogICAgYmFja2dyb3VuZENvbG9yTWF4OiB7DQogICAgICB0eXBlOiBOdW1iZXIsDQogICAgICBkZWZhdWx0OiAyNDANCiAgICB9LA0KICAgIGNvbG9yTWluOiB7DQogICAgICB0eXBlOiBOdW1iZXIsDQogICAgICBkZWZhdWx0OiA1MA0KICAgIH0sDQogICAgY29sb3JNYXg6IHsNCiAgICAgIHR5cGU6IE51bWJlciwNCiAgICAgIGRlZmF1bHQ6IDE2MA0KICAgIH0sDQogICAgbGluZUNvbG9yTWluOiB7DQogICAgICB0eXBlOiBOdW1iZXIsDQogICAgICBkZWZhdWx0OiA0MA0KICAgIH0sDQogICAgbGluZUNvbG9yTWF4OiB7DQogICAgICB0eXBlOiBOdW1iZXIsDQogICAgICBkZWZhdWx0OiAxODANCiAgICB9LA0KICAgIGRvdENvbG9yTWluOiB7DQogICAgICB0eXBlOiBOdW1iZXIsDQogICAgICBkZWZhdWx0OiAwDQogICAgfSwNCiAgICBkb3RDb2xvck1heDogew0KICAgICAgdHlwZTogTnVtYmVyLA0KICAgICAgZGVmYXVsdDogMjU1DQogICAgfSwNCiAgICBjb250ZW50V2lkdGg6IHsNCiAgICAgIHR5cGU6IE51bWJlciwNCiAgICAgIGRlZmF1bHQ6IDExMg0KICAgIH0sDQogICAgY29udGVudEhlaWdodDogew0KICAgICAgdHlwZTogTnVtYmVyLA0KICAgICAgZGVmYXVsdDogNDANCiAgICB9DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICAvLyDnlJ/miJDkuIDkuKrpmo/mnLrmlbANCiAgICByYW5kb21OdW0gKG1pbiwgbWF4KSB7DQogICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbikgKyBtaW4pDQogICAgfSwNCiAgICAvLyDnlJ/miJDkuIDkuKrpmo/mnLrnmoTpopzoibINCiAgICByYW5kb21Db2xvciAobWluLCBtYXgpIHsNCiAgICAgIHZhciByID0gdGhpcy5yYW5kb21OdW0obWluLCBtYXgpDQogICAgICB2YXIgZyA9IHRoaXMucmFuZG9tTnVtKG1pbiwgbWF4KQ0KICAgICAgdmFyIGIgPSB0aGlzLnJhbmRvbU51bShtaW4sIG1heCkNCiAgICAgIHJldHVybiAncmdiKCcgKyByICsgJywnICsgZyArICcsJyArIGIgKyAnKScNCiAgICB9LA0KICAgIGRyYXdQaWMgKCkgew0KICAgICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzLWNhbnZhcycpDQogICAgICB2YXIgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJykNCiAgICAgIGN0eC50ZXh0QmFzZWxpbmUgPSAnYm90dG9tJw0KICAgICAgLy8g57uY5Yi26IOM5pmvDQogICAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5yYW5kb21Db2xvcigNCiAgICAgICAgICB0aGlzLmJhY2tncm91bmRDb2xvck1pbiwNCiAgICAgICAgICB0aGlzLmJhY2tncm91bmRDb2xvck1heA0KICAgICAgKQ0KICAgICAgY3R4LmZpbGxSZWN0KDAsIDAsIHRoaXMuY29udGVudFdpZHRoLCB0aGlzLmNvbnRlbnRIZWlnaHQpDQogICAgICAvLyDnu5jliLbmloflrZcNCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5pZGVudGlmeUNvZGUubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgdGhpcy5kcmF3VGV4dChjdHgsIHRoaXMuaWRlbnRpZnlDb2RlW2ldLCBpKQ0KICAgICAgfQ0KICAgICAgdGhpcy5kcmF3TGluZShjdHgpDQogICAgICB0aGlzLmRyYXdEb3QoY3R4KQ0KICAgIH0sDQogICAgZHJhd1RleHQgKGN0eCwgdHh0LCBpKSB7DQogICAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5yYW5kb21Db2xvcih0aGlzLmNvbG9yTWluLCB0aGlzLmNvbG9yTWF4KQ0KICAgICAgY3R4LmZvbnQgPQ0KICAgICAgICAgIHRoaXMucmFuZG9tTnVtKHRoaXMuZm9udFNpemVNaW4sIHRoaXMuZm9udFNpemVNYXgpICsgJ3B4IFNpbUhlaScNCiAgICAgIHZhciB4ID0gKGkgKyAxKSAqICh0aGlzLmNvbnRlbnRXaWR0aCAvICh0aGlzLmlkZW50aWZ5Q29kZS5sZW5ndGggKyAxKSkNCiAgICAgIHZhciB5ID0gdGhpcy5yYW5kb21OdW0odGhpcy5mb250U2l6ZU1heCwgdGhpcy5jb250ZW50SGVpZ2h0IC0gNSkNCiAgICAgIHZhciBkZWcgPSB0aGlzLnJhbmRvbU51bSgtMzAsIDMwKQ0KICAgICAgLy8g5L+u5pS55Z2Q5qCH5Y6f54K55ZKM5peL6L2s6KeS5bqmDQogICAgICBjdHgudHJhbnNsYXRlKHgsIHkpDQogICAgICBjdHgucm90YXRlKGRlZyAqIE1hdGguUEkgLyAyNzApDQogICAgICBjdHguZmlsbFRleHQodHh0LCAwLCAwKQ0KICAgICAgLy8g5oGi5aSN5Z2Q5qCH5Y6f54K55ZKM5peL6L2s6KeS5bqmDQogICAgICBjdHgucm90YXRlKC1kZWcgKiBNYXRoLlBJIC8gMjcwKQ0KICAgICAgY3R4LnRyYW5zbGF0ZSgteCwgLXkpDQogICAgfSwNCiAgICBkcmF3TGluZSAoY3R4KSB7DQogICAgICAvLyDnu5jliLblubLmibDnur8NCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMjsgaSsrKSB7DQogICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IHRoaXMucmFuZG9tQ29sb3IoDQogICAgICAgICAgICB0aGlzLmxpbmVDb2xvck1pbiwNCiAgICAgICAgICAgIHRoaXMubGluZUNvbG9yTWF4DQogICAgICAgICkNCiAgICAgICAgY3R4LmJlZ2luUGF0aCgpDQogICAgICAgIGN0eC5tb3ZlVG8oDQogICAgICAgICAgICB0aGlzLnJhbmRvbU51bSgwLCB0aGlzLmNvbnRlbnRXaWR0aCksDQogICAgICAgICAgICB0aGlzLnJhbmRvbU51bSgwLCB0aGlzLmNvbnRlbnRIZWlnaHQpDQogICAgICAgICkNCiAgICAgICAgY3R4LmxpbmVUbygNCiAgICAgICAgICAgIHRoaXMucmFuZG9tTnVtKDAsIHRoaXMuY29udGVudFdpZHRoKSwNCiAgICAgICAgICAgIHRoaXMucmFuZG9tTnVtKDAsIHRoaXMuY29udGVudEhlaWdodCkNCiAgICAgICAgKQ0KICAgICAgICBjdHguc3Ryb2tlKCkNCiAgICAgIH0NCiAgICB9LA0KICAgIGRyYXdEb3QgKGN0eCkgew0KICAgICAgLy8g57uY5Yi25bmy5omw54K5DQogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDIwOyBpKyspIHsNCiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IHRoaXMucmFuZG9tQ29sb3IoMCwgMjU1KQ0KICAgICAgICBjdHguYmVnaW5QYXRoKCkNCiAgICAgICAgY3R4LmFyYygNCiAgICAgICAgICAgIHRoaXMucmFuZG9tTnVtKDAsIHRoaXMuY29udGVudFdpZHRoKSwNCiAgICAgICAgICAgIHRoaXMucmFuZG9tTnVtKDAsIHRoaXMuY29udGVudEhlaWdodCksDQogICAgICAgICAgICAxLA0KICAgICAgICAgICAgMCwNCiAgICAgICAgICAgIDIgKiBNYXRoLlBJDQogICAgICAgICkNCiAgICAgICAgY3R4LmZpbGwoKQ0KICAgICAgfQ0KICAgIH0NCiAgfSwNCiAgd2F0Y2g6IHsNCiAgICBpZGVudGlmeUNvZGUgKCkgew0KICAgICAgdGhpcy5kcmF3UGljKCkNCiAgICB9DQogIH0sDQogIG1vdW50ZWQgKCkgew0KICAgIHRoaXMuZHJhd1BpYygpDQogIH0NCn0NCg=="},{"version":3,"sources":["Identify.vue"],"names":[],"mappings":";;;;;;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Identify.vue","sourceRoot":"src/components/common","sourcesContent":["<template>\r\n  <div class=\"s-canvas\">\r\n    <canvas id=\"s-canvas\" :width=\"contentWidth\" :height=\"contentHeight\"></canvas>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: 'Identify',\r\n  props: {\r\n    identifyCode: {\r\n      type: String,\r\n      default: '1234'\r\n    },\r\n    fontSizeMin: {\r\n      type: Number,\r\n      default: 28\r\n    },\r\n    fontSizeMax: {\r\n      type: Number,\r\n      default: 40\r\n    },\r\n    backgroundColorMin: {\r\n      type: Number,\r\n      default: 180\r\n    },\r\n    backgroundColorMax: {\r\n      type: Number,\r\n      default: 240\r\n    },\r\n    colorMin: {\r\n      type: Number,\r\n      default: 50\r\n    },\r\n    colorMax: {\r\n      type: Number,\r\n      default: 160\r\n    },\r\n    lineColorMin: {\r\n      type: Number,\r\n      default: 40\r\n    },\r\n    lineColorMax: {\r\n      type: Number,\r\n      default: 180\r\n    },\r\n    dotColorMin: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    dotColorMax: {\r\n      type: Number,\r\n      default: 255\r\n    },\r\n    contentWidth: {\r\n      type: Number,\r\n      default: 112\r\n    },\r\n    contentHeight: {\r\n      type: Number,\r\n      default: 40\r\n    }\r\n  },\r\n  methods: {\r\n    // 生成一个随机数\r\n    randomNum (min, max) {\r\n      return Math.floor(Math.random() * (max - min) + min)\r\n    },\r\n    // 生成一个随机的颜色\r\n    randomColor (min, max) {\r\n      var r = this.randomNum(min, max)\r\n      var g = this.randomNum(min, max)\r\n      var b = this.randomNum(min, max)\r\n      return 'rgb(' + r + ',' + g + ',' + b + ')'\r\n    },\r\n    drawPic () {\r\n      var canvas = document.getElementById('s-canvas')\r\n      var ctx = canvas.getContext('2d')\r\n      ctx.textBaseline = 'bottom'\r\n      // 绘制背景\r\n      ctx.fillStyle = this.randomColor(\r\n          this.backgroundColorMin,\r\n          this.backgroundColorMax\r\n      )\r\n      ctx.fillRect(0, 0, this.contentWidth, this.contentHeight)\r\n      // 绘制文字\r\n      for (let i = 0; i < this.identifyCode.length; i++) {\r\n        this.drawText(ctx, this.identifyCode[i], i)\r\n      }\r\n      this.drawLine(ctx)\r\n      this.drawDot(ctx)\r\n    },\r\n    drawText (ctx, txt, i) {\r\n      ctx.fillStyle = this.randomColor(this.colorMin, this.colorMax)\r\n      ctx.font =\r\n          this.randomNum(this.fontSizeMin, this.fontSizeMax) + 'px SimHei'\r\n      var x = (i + 1) * (this.contentWidth / (this.identifyCode.length + 1))\r\n      var y = this.randomNum(this.fontSizeMax, this.contentHeight - 5)\r\n      var deg = this.randomNum(-30, 30)\r\n      // 修改坐标原点和旋转角度\r\n      ctx.translate(x, y)\r\n      ctx.rotate(deg * Math.PI / 270)\r\n      ctx.fillText(txt, 0, 0)\r\n      // 恢复坐标原点和旋转角度\r\n      ctx.rotate(-deg * Math.PI / 270)\r\n      ctx.translate(-x, -y)\r\n    },\r\n    drawLine (ctx) {\r\n      // 绘制干扰线\r\n      for (let i = 0; i < 2; i++) {\r\n        ctx.strokeStyle = this.randomColor(\r\n            this.lineColorMin,\r\n            this.lineColorMax\r\n        )\r\n        ctx.beginPath()\r\n        ctx.moveTo(\r\n            this.randomNum(0, this.contentWidth),\r\n            this.randomNum(0, this.contentHeight)\r\n        )\r\n        ctx.lineTo(\r\n            this.randomNum(0, this.contentWidth),\r\n            this.randomNum(0, this.contentHeight)\r\n        )\r\n        ctx.stroke()\r\n      }\r\n    },\r\n    drawDot (ctx) {\r\n      // 绘制干扰点\r\n      for (let i = 0; i < 20; i++) {\r\n        ctx.fillStyle = this.randomColor(0, 255)\r\n        ctx.beginPath()\r\n        ctx.arc(\r\n            this.randomNum(0, this.contentWidth),\r\n            this.randomNum(0, this.contentHeight),\r\n            1,\r\n            0,\r\n            2 * Math.PI\r\n        )\r\n        ctx.fill()\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    identifyCode () {\r\n      this.drawPic()\r\n    }\r\n  },\r\n  mounted () {\r\n    this.drawPic()\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n.s-canvas {\r\n  height: 38px;\r\n}\r\n.s-canvas canvas{\r\n  margin-top: 1px;\r\n  margin-left: 8px;\r\n}\r\n</style>\r\n"]}]}