{"remainingRequest":"F:\\毕设\\演示\\x-mall\\front\\node_modules\\babel-loader\\lib\\index.js!F:\\毕设\\演示\\x-mall\\front\\src\\router\\index.js","dependencies":[{"path":"F:\\毕设\\演示\\x-mall\\front\\src\\router\\index.js","mtime":1645016332324},{"path":"F:\\毕设\\演示\\x-mall\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\毕设\\演示\\x-mall\\front\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCBWdWVSb3V0ZXIgZnJvbSAndnVlLXJvdXRlcic7ClZ1ZS51c2UoVnVlUm91dGVyKTsKdmFyIHJvdXRlcyA9IFt7CiAgcGF0aDogJy8nLAogIHJlZGlyZWN0OiAnL2xvZ2luJwp9LCB7CiAgcGF0aDogJy9mcm9udCcsCiAgbmFtZTogJ0Zyb250JywKICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgIHJldHVybiBpbXBvcnQoIi4uL2xheW91dC9mcm9udCIpOwogIH0sCiAgY2hpbGRyZW46IFt7CiAgICBwYXRoOiAnaG9tZScsCiAgICBuYW1lOiAnRnJvbnRIb21lJywKICAgIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgICByZXR1cm4gaW1wb3J0KCIuLi92aWV3cy9mcm9udC9ob21lIik7CiAgICB9CiAgfSwgewogICAgcGF0aDogJ3NlYXJjaCcsCiAgICBuYW1lOiAnU2VhcmNoJywKICAgIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgICByZXR1cm4gaW1wb3J0KCIuLi92aWV3cy9mcm9udC9zZWFyY2giKTsKICAgIH0KICB9LCB7CiAgICBwYXRoOiAnZ29vZHMnLAogICAgbmFtZTogJ0dvb2RzJywKICAgIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgICByZXR1cm4gaW1wb3J0KCIuLi92aWV3cy9mcm9udC9nb29kcyIpOwogICAgfQogIH0sIHsKICAgIHBhdGg6ICdjYXJ0JywKICAgIG5hbWU6ICdDYXJ0JywKICAgIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgICByZXR1cm4gaW1wb3J0KCIuLi92aWV3cy9mcm9udC9jYXJ0Iik7CiAgICB9CiAgfSwgewogICAgcGF0aDogJ3ByZU9yZGVyJywKICAgIG5hbWU6ICdQcmVPcmRlcicsCiAgICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgICAgcmV0dXJuIGltcG9ydCgiLi4vdmlld3MvZnJvbnQvcHJlT3JkZXIiKTsKICAgIH0KICB9LCB7CiAgICBwYXRoOiAnb3JkZXInLAogICAgbmFtZTogJ0Zyb250T3JkZXInLAogICAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICAgIHJldHVybiBpbXBvcnQoIi4uL3ZpZXdzL2Zyb250L29yZGVyIik7CiAgICB9CiAgfSwgewogICAgcGF0aDogJ2NvbGxlY3QnLAogICAgbmFtZTogJ0NvbGxlY3QnLAogICAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICAgIHJldHVybiBpbXBvcnQoIi4uL3ZpZXdzL2Zyb250L2NvbGxlY3QiKTsKICAgIH0KICB9LCB7CiAgICBwYXRoOiAncGVyc29uJywKICAgIG5hbWU6ICdQZXJzb24nLAogICAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICAgIHJldHVybiBpbXBvcnQoIi4uL3ZpZXdzL2Zyb250L3BlcnNvbiIpOwogICAgfQogIH0sIHsKICAgIHBhdGg6ICdhZGRyZXNzJywKICAgIG5hbWU6ICdBZGRyZXNzJywKICAgIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgICByZXR1cm4gaW1wb3J0KCIuLi92aWV3cy9mcm9udC9hZGRyZXNzIik7CiAgICB9CiAgfV0KfSwgewogIHBhdGg6ICcvbG9naW4nLAogIG5hbWU6ICdMb2dpbicsCiAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICByZXR1cm4gaW1wb3J0KCIuLi92aWV3cy9sb2dpbiIpOwogIH0KfSwgewogIHBhdGg6ICcvcmVnaXN0ZXInLAogIG5hbWU6ICdSZWdpc3RlcicsCiAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICByZXR1cm4gaW1wb3J0KCIuLi92aWV3cy9yZWdpc3RlciIpOwogIH0KfV07Cgp2YXIgY3JlYXRlUm91dGVyID0gZnVuY3Rpb24gY3JlYXRlUm91dGVyKCkgewogIHJldHVybiBuZXcgVnVlUm91dGVyKHsKICAgIG1vZGU6ICdoaXN0b3J5JywKICAgIHJvdXRlczogcm91dGVzCiAgfSk7Cn07Cgp2YXIgcm91dGVyID0gY3JlYXRlUm91dGVyKCk7CnZhciB1c2VyID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgidXNlciIpID8gSlNPTi5wYXJzZShzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJ1c2VyIikpIDoge307CnJlc2V0Um91dGVyKHVzZXIucGVybWlzc2lvbik7IC8v5YaZ5LiA5Liq6YeN572u6Lev55Sx55qE5pa55rOV77yM5YiH5o2i55So5oi35ZCO77yM5oiW6ICF6YCA5Ye65pe25riF6Zmk5Yqo5oCB5Yqg6L2955qE6Lev55SxCgpleHBvcnQgZnVuY3Rpb24gcmVzZXRSb3V0ZXIocGVybWlzc2lvbnMpIHsKICBpZiAocGVybWlzc2lvbnMpIHsKICAgIHZhciBuZXdSb3V0ZXIgPSBjcmVhdGVSb3V0ZXIoKTsKICAgIHJvdXRlci5tYXRjaGVyID0gbmV3Um91dGVyLm1hdGNoZXI7IC8vIOaWsOi3r+eUseWunuS+i21hdGNlcu+8jOi1i+WAvOe7meaXp+i3r+eUseWunuS+i+eahG1hdGNoZXLvvIzvvIjnm7jlvZPkuo5yZXBsYWNlUm91dGVy77yJCgogICAgaWYgKCFyb3V0ZXIuZ2V0Um91dGVzKCkuZmluZChmdW5jdGlvbiAodikgewogICAgICByZXR1cm4gdi5uYW1lID09PSAnTWFuYWdlJzsKICAgIH0pKSB7CiAgICAgIHJvdXRlci5hZGRSb3V0ZShnZXRQZXJtaXNzaW9ucyhwZXJtaXNzaW9ucykpOwogICAgfQogIH0KfQoKZnVuY3Rpb24gZ2V0UGVybWlzc2lvbnMocGVybWlzc2lvbnMpIHsKICB2YXIgbWFuYWdlID0gewogICAgcGF0aDogJy9tYW5hZ2UnLAogICAgbmFtZTogJ01hbmFnZScsCiAgICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgICAgcmV0dXJuIGltcG9ydCgiLi4vbGF5b3V0L21hbmFnZSIpOwogICAgfSwKICAgIGNoaWxkcmVuOiBbewogICAgICBwYXRoOiAncGVyc29uJywKICAgICAgbmFtZTogJ+S4quS6uuS/oeaBrycsCiAgICAgIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgICAgIHJldHVybiBpbXBvcnQoIi4uL3ZpZXdzL21hbmFnZS9wZXJzb24iKTsKICAgICAgfQogICAgfV0KICB9OyAvLyDorr7nva7ot6/nlLHoj5zljZUKCiAgaWYgKHBlcm1pc3Npb25zKSB7CiAgICBwZXJtaXNzaW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgIG1hbmFnZS5jaGlsZHJlbi5wdXNoKHsKICAgICAgICBwYXRoOiAiL21hbmFnZSIgKyBpdGVtLnBhdGgsCiAgICAgICAgbmFtZTogaXRlbS5uYW1lLAogICAgICAgIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgICAgICAgcmV0dXJuIGltcG9ydCgiLi4vdmlld3MvbWFuYWdlIiArIGl0ZW0ucGF0aCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0pOwogIH0KCiAgcmV0dXJuIG1hbmFnZTsKfSAvLyB2dWVSb3V0ZXIuYmVmb3JlRWFjaCgodG8sIGZyb20sIG5leHQpID0+IHsKLy8gICAgIC8vIOWIpOaWreimgeWOu+eahOi3r+eUseeVjOmdouaYr+S4jeaYr+imgemJtOadgwovLyAgICAgaWYgKHRvLnBhdGguaW5jbHVkZXMoJ21hbmFnZScpKSB7Ci8vICAgICAgICAgLy8g5p+l55yL5piv5ZCm55m76ZmGCi8vICAgICAgICAgaWYgKCF1c2VyLmlkKSB7Ci8vICAgICAgICAgICAgIC8vIOayoeeZu+W9leeahOWBmuWkhOeQhgovLyAgICAgICAgICAgICBuZXh0KHsKLy8gICAgICAgICAgICAgICAgIHBhdGg6ICcvbG9naW4nCi8vICAgICAgICAgICAgIH0pCi8vICAgICAgICAgfSBlbHNlIHsKLy8gICAgICAgICAgICAgLy8g55m76ZmG55qE5q2j5bi46LezCi8vICAgICAgICAgICAgIG5leHQoKQovLyAgICAgICAgIH0KLy8gICAgIH0gZWxzZSB7Ci8vICAgICAgICAgLy8g5LiN6ZyA6KaB6Ym05p2D55qE5q2j5bi46LezCi8vICAgICAgICAgbmV4dCgpCi8vICAgICB9Ci8vIH0pCgoKZXhwb3J0IGRlZmF1bHQgcm91dGVyOw=="},{"version":3,"sources":["F:/毕设/演示/x-mall/front/src/router/index.js"],"names":["Vue","VueRouter","use","routes","path","redirect","name","component","children","createRouter","mode","router","user","sessionStorage","getItem","JSON","parse","resetRouter","permission","permissions","newRouter","matcher","getRoutes","find","v","addRoute","getPermissions","manage","forEach","item","push"],"mappings":"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","sourcesContent":["import Vue from 'vue'\r\nimport VueRouter from 'vue-router'\r\n\r\nVue.use(VueRouter)\r\n\r\nlet routes = [\r\n    {\r\n        path: '/',\r\n        redirect: '/login',\r\n    },\r\n    {\r\n        path: '/front',\r\n        name: 'Front',\r\n        component: () => import(\"../layout/front\"),\r\n        children: [\r\n            {\r\n                path: 'home',\r\n                name: 'FrontHome',\r\n                component: () => import(\"../views/front/home\")\r\n            },\r\n            {\r\n                path: 'search',\r\n                name: 'Search',\r\n                component: () => import(\"../views/front/search\")\r\n            },\r\n            {\r\n                path: 'goods',\r\n                name: 'Goods',\r\n                component: () => import(\"../views/front/goods\")\r\n            },\r\n            {\r\n                path: 'cart',\r\n                name: 'Cart',\r\n                component: () => import(\"../views/front/cart\")\r\n            },\r\n            {\r\n                path: 'preOrder',\r\n                name: 'PreOrder',\r\n                component: () => import(\"../views/front/preOrder\")\r\n            },\r\n            {\r\n                path: 'order',\r\n                name: 'FrontOrder',\r\n                component: () => import(\"../views/front/order\")\r\n            },\r\n            {\r\n                path: 'collect',\r\n                name: 'Collect',\r\n                component: () => import(\"../views/front/collect\")\r\n            },\r\n            {\r\n                path: 'person',\r\n                name: 'Person',\r\n                component: () => import(\"../views/front/person\")\r\n            },\r\n            {\r\n                path: 'address',\r\n                name: 'Address',\r\n                component: () => import(\"../views/front/address\")\r\n            },\r\n        ]\r\n    },\r\n    {\r\n        path: '/login',\r\n        name: 'Login',\r\n        component: () => import(\"../views/login\")\r\n    },\r\n    {\r\n        path: '/register',\r\n        name: 'Register',\r\n        component: () => import(\"../views/register\")\r\n    },\r\n]\r\n\r\n\r\nconst createRouter = () => new VueRouter({\r\n    mode: 'history',\r\n    routes: routes\r\n})\r\n\r\nconst router = createRouter()\r\n\r\nlet user = sessionStorage.getItem(\"user\") ? JSON.parse(sessionStorage.getItem(\"user\")) : {}\r\nresetRouter(user.permission)\r\n\r\n//写一个重置路由的方法，切换用户后，或者退出时清除动态加载的路由\r\nexport function resetRouter(permissions) {\r\n    if (permissions) {\r\n        const newRouter = createRouter()\r\n        router.matcher = newRouter.matcher // 新路由实例matcer，赋值给旧路由实例的matcher，（相当于replaceRouter）\r\n        if (!router.getRoutes().find(v => v.name === 'Manage')) {\r\n            router.addRoute(getPermissions(permissions))\r\n        }\r\n    }\r\n\r\n}\r\n\r\nfunction getPermissions(permissions) {\r\n    let manage = {\r\n        path: '/manage', name: 'Manage', component: () => import(\"../layout/manage\"),\r\n        children: [\r\n            {path: 'person', name: '个人信息', component: () => import(\"../views/manage/person\")}\r\n        ]\r\n    }\r\n    // 设置路由菜单\r\n    if (permissions) {\r\n        permissions.forEach(item => {\r\n            manage.children.push({\r\n                path: \"/manage\" + item.path,\r\n                name: item.name,\r\n                component: () => import(\"../views/manage\" + item.path)\r\n            });\r\n        })\r\n    }\r\n    return manage\r\n}\r\n\r\n\r\n// vueRouter.beforeEach((to, from, next) => {\r\n//     // 判断要去的路由界面是不是要鉴权\r\n//     if (to.path.includes('manage')) {\r\n//         // 查看是否登陆\r\n//         if (!user.id) {\r\n//             // 没登录的做处理\r\n//             next({\r\n//                 path: '/login'\r\n//             })\r\n//         } else {\r\n//             // 登陆的正常跳\r\n//             next()\r\n//         }\r\n//     } else {\r\n//         // 不需要鉴权的正常跳\r\n//         next()\r\n//     }\r\n// })\r\n\r\nexport default router\r\n"]}]}